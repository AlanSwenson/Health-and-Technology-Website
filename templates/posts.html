{% extends 'base.html' %}

{% block head %}
<title>Corey's Blog Page</title>
{% endblock %}

{% block body %}
<h1>Blog City</h1>
    <hr>
    <h2>New Blog Posts</h2>
    <form action="/posts" method="POST">
        <label for="title">Title:</label>
        <input class="form-control mr-sm-2" type="search" name="title" id="title" placeholder="Enter Title" aria-label="Enter Title">
        <br>
        <label for="author">Author:</label>
        <input class="form-control mr-sm-2" type="text" name="author" id="author" placeholder="Author's Name">
        <br>
        <label for="content">Content:</label>
        <textarea class="form-control" name="content" id="content" rows="3" placeholder="Content"></textarea>
        <br>
        <input type="submit" value="Submit">
    </form>
    <hr>

    {% for post in posts %}
    <h2>{{ post.title }}</h2>
        {% if post.author %}
            <h3>{{ post.author }}</h3>
        {% else %}
            <h3>N/A</h3>
        {% endif %}
        <p style="white-space: pre-wrap">{{ post.content }}</p>
        <a class="btn btn-danger" href="/posts/delete/{{ post.id }}">Delete</a>
        <a class="btn btn-primary" href="/posts/edit/{{ post.id }}">Edit</a>
        <hr>
    {% endfor %}
{% endblock %}